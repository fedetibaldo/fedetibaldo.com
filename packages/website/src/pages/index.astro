---
import type { CollectionEntry } from "astro:content";
import Layout from "../layout/Layout.astro";
import { getEntry } from "astro:content";
import { render } from "astro:content";

const home = await getEntry("pages", "home");

const getPageContentOrNull = async (page?: CollectionEntry<"pages">) => {
	if (!page) return null;
	const { Content } = await render(page);
	return Content;
};

const Content = await getPageContentOrNull(home);
---

<Layout title={home?.data.title} description={home?.data.description}>
	<article class="prose prose-lg prose-invert max-w-none">
		{Content && <Content />}
	</article>
</Layout>
