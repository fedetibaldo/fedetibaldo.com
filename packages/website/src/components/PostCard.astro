---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";

type Props = CollectionEntry<"posts">;
const post = Astro.props;
---

<a
	href={`/${post.data.slug}`}
	class="relative rounded-2xl border border-grey-700 block overflow-hidden group"
>
	{
		post.data.cover && (
			<Image
				src={post.data.cover}
				alt=""
				class="absolute w-full h-full object-cover object-center opacity-20 transition-transform group-hover:scale-120 group-focus:scale-120"
			/>
		)
	}
	<article class="relative p-6 space-y-4">
		<h2
			class="leading-tighter text-grey-100 font-bold lines-2 group-focus-visible:underline"
		>
			{post.data.title}
		</h2>
		<time class="text-smallest" datetime={post.data.createdAt.toISOString()}>
			{
				post.data.createdAt.toLocaleDateString(undefined, {
					dateStyle: "medium",
				})
			}
		</time>
	</article>
</a>
